<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeScope Test - Side Panel Layout & Scrollable Diagram</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Test styles to simulate side panel */
    html, body {
      margin: 0;
      padding: 0;
      background: #f0f0f0;
    }
    
    .test-wrapper {
      display: flex;
      height: 100vh;
    }
    
    .main-content {
      flex: 1;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
    }
    
    .side-panel-simulation {
      width: 400px;
      border-left: 3px solid #3b82f6;
      background: white;
      overflow: hidden;
    }
    
    .test-info {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(59, 130, 246, 0.9);
      color: white;
      padding: 10px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div class="test-info">
    <strong>Testing Side Panel Layout</strong><br>
    Side panel width: 400px<br>
    Full height with scrollable content
  </div>
  
  <div class="test-wrapper">
    <div class="main-content">
      <h2>Main Browser Content</h2>
      <p>The side panel would appear on the right ‚Üí</p>
    </div>
    
    <div class="side-panel-simulation">
      <!-- Copy of side panel content for testing -->
      <div class="container">
      <header>
        <h1>üîé CodeScope</h1>
        <p class="subtitle">AI-Powered Code Intelligence - TEST MODE</p>
      </header>

      <main>
        <!-- Results Section -->
        <div id="results" class="results">
          
          <!-- Analysis Type Buttons -->
          <div class="analysis-buttons">
            <button class="btn-type">üìù Summary</button>
            <button class="btn-type">‚öôÔ∏è Complexity</button>
            <button class="btn-type">üìä Flowchart</button>
            <button class="btn-type active">üéØ Combined</button>
          </div>

          <!-- Summary Section -->
          <section class="section">
            <div class="section-header">
              <h2>üìù Summary</h2>
              <button class="btn-copy" title="Copy summary">üìã</button>
            </div>
            <div class="output-box">
              This is a sample summary section with some text content to test the layout. The content should be scrollable if it exceeds the container height. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </div>
          </section>

          <!-- Complexity Section -->
          <section class="section">
            <div class="section-header">
              <h2>‚öôÔ∏è Complexity</h2>
              <button class="btn-copy" title="Copy analysis">üìã</button>
            </div>
            <div class="output-box">
              <strong>Time Complexity:</strong> O(n¬≤)<br>
              <strong>Space Complexity:</strong> O(1)<br><br>
              This algorithm uses nested loops, resulting in quadratic time complexity.
            </div>
          </section>

          <!-- Flowchart Section -->
          <section class="section">
            <div class="section-header">
              <h2>üìä Flowchart</h2>
              <button class="btn-copy" title="Copy code">üìã</button>
            </div>
            <div class="mermaid-container" data-scrollable="true">
              <div class="mermaid">
                <!-- Simulate a large flowchart that needs scrolling -->
                <svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
                  <rect width="100%" height="100%" fill="#f8fafc"/>
                  <text x="50" y="50" font-family="Arial, sans-serif" font-size="14" fill="#333">Large Flowchart Simulation (1200x800px)</text>
                  <rect x="50" y="70" width="150" height="60" rx="5" fill="#e3f2fd" stroke="#1976d2"/>
                  <text x="125" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1976d2">Start Process</text>
                  
                  <rect x="250" y="70" width="150" height="60" rx="5" fill="#fff3e0" stroke="#f57c00"/>
                  <text x="325" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#f57c00">Input Validation</text>
                  
                  <rect x="450" y="70" width="150" height="60" rx="5" fill="#e8f5e8" stroke="#388e3c"/>
                  <text x="525" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#388e3c">Data Processing</text>
                  
                  <rect x="650" y="70" width="150" height="60" rx="5" fill="#fce4ec" stroke="#c2185b"/>
                  <text x="725" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#c2185b">Generate Output</text>
                  
                  <rect x="850" y="70" width="150" height="60" rx="5" fill="#f3e5f5" stroke="#7b1fa2"/>
                  <text x="925" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7b1fa2">End Process</text>
                  
                  <!-- Vertical flow -->
                  <rect x="450" y="200" width="150" height="60" rx="5" fill="#fff8e1" stroke="#ffa000"/>
                  <text x="525" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#ffa000">Error Handling</text>
                  
                  <rect x="450" y="330" width="150" height="60" rx="5" fill="#e0f2f1" stroke="#00796b"/>
                  <text x="525" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#00796b">Log Results</text>
                  
                  <rect x="450" y="460" width="150" height="60" rx="5" fill="#f1f8e9" stroke="#689f38"/>
                  <text x="525" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#689f38">Cleanup</text>
                  
                  <!-- Arrows -->
                  <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                    </marker>
                  </defs>
                  
                  <line x1="200" y1="100" x2="250" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  <line x1="400" y1="100" x2="450" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  <line x1="600" y1="100" x2="650" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  <line x1="800" y1="100" x2="850" y2="100" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  
                  <line x1="525" y1="130" x2="525" y2="200" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  <line x1="525" y1="260" x2="525" y2="330" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  <line x1="525" y1="390" x2="525" y2="460" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
                  
                  <text x="600" y="750" font-family="Arial, sans-serif" font-size="16" fill="#666" font-weight="bold">
                    Scroll horizontally and vertically to see the entire diagram ‚Üí‚Üì
                  </text>
                </svg>
              </div>
            </div>
          </section>
        </div>
      </main>

      <footer>
        <p class="footer-text">CodeScope v1.0 ‚Ä¢ Side Panel Test</p>
      </footer>
      </div>
    </div>
  </div>

  <script>
    // Simple test to show side panel dimensions
    window.addEventListener('load', function() {
      const container = document.querySelector('.container');
      const sidePanelSim = document.querySelector('.side-panel-simulation');
      const info = document.querySelector('.test-info');
      
      const width = sidePanelSim.offsetWidth;
      const height = sidePanelSim.offsetHeight;
      
      info.innerHTML += `<br><br><strong>Side Panel Dimensions:</strong><br>Width: ${width}px<br>Height: ${height}px`;
      
      if (width === 400 && height === window.innerHeight) {
        info.innerHTML += '<br><span style="color: #4caf50;">‚úì LAYOUT OK</span>';
      } else {
        info.innerHTML += '<br><span style="color: #ffa000;">‚ö† LAYOUT CHECK</span>';
      }
      
      // Test scroll functionality
      const mermaidContainer = document.querySelector('.mermaid-container');
      if (mermaidContainer) {
        const scrollWidth = mermaidContainer.scrollWidth;
        const clientWidth = mermaidContainer.clientWidth;
        if (scrollWidth > clientWidth) {
          info.innerHTML += '<br><span style="color: #4caf50;">‚úì SCROLL OK</span>';
        } else {
          info.innerHTML += '<br><span style="color: #ff9800;">‚ö† NO SCROLL NEEDED</span>';
        }
      }
    });
  </script>
</body>
</html>